Весна@Transactional

Аннотация org.springframework.transaction.annotation.Transactionalдоступна с версии фреймворка Spring 1.2 (около 2005 г.) и позволяет устанавливать следующие транзакционные свойства:

    isolation: базовый уровень изоляции базы данных
    noRollbackForи noRollbackForClassName: список Exceptionклассов Java, которые могут быть вызваны без запуска отката транзакции
    rollbackForи rollbackForClassName: список Exceptionклассов Java, которые запускают откат транзакции при ее возникновении
    propagation: тип распространения транзакции, заданный PropagationEnum. Например, если контекст транзакции может быть унаследован (например, REQUIRED) или должен быть создан новый контекст транзакции (например, REQUIRES_NEW) или если должно быть выдано исключение, если контекст транзакции отсутствует (например, MANDATORY) или если должно быть выдано исключение, если найден текущий контекст транзакции (например, NOT_SUPPORTED).
    readOnly: должна ли текущая транзакция только считывать данные, не применяя никаких изменений.
    timeout: сколько секунд должно быть разрешено выполняться контексту транзакции, пока не будет выдано исключение тайм-аута.
    valueили transactionManager: имя компонента Spring, TransactionManagerкоторое будет использоваться при привязке контекста транзакции.

JavaEE-версия@Transactional

Аннотация javax.transaction.Transactionalбыла добавлена ​​спецификацией Java EE 7 (около 2013 г.). Таким образом, аннотация Java EE была добавлена ​​на 8 лет позже, чем ее аналог Spring.

Java EE @Transactionalопределяет всего 3 атрибута:

    dontRollbackOn: список Exceptionклассов Java, которые могут быть вызваны без запуска отката транзакции
    rollbackOn: список Exceptionклассов Java, которые запускают откат транзакции при ее возникновении
    value: стратегия распространения, заданная TxTypeEnum. Например, если контекст транзакции может быть унаследован (например, REQUIRED) или должен быть создан новый контекст транзакции (например, REQUIRES_NEW) или должно быть выдано исключение, если контекст транзакции отсутствует (например, MANDATORY) или должно быть выдано исключение, если текущий контекст транзакции найден (например, NOT_SUPPORTED).
    propagation: