                                Маппинг объектов

Рассмотрим подробнее каждое соответствие:


                                Таблица → класс

  Таблицу БД чаще всего связывают с классами Java. Таблица — набор колонок с определёнными типами данных.
Точно так же классы Java содержат поля определённых типов.
Ещё одно сходство в том, что таблица, как и класс, — это не сами данные, а только схема данных.

                          Колонка таблицы → поле класса

  Колонка таблицы выполняет ту же функцию, что и поле класса.
Она хранит информацию о названии и типе того значения, которое будет записано в поле.

                      Строка таблицы → объект (экземпляр класса)

  Строка в таблице содержит конкретные значения, то есть те реальные данные, с которыми работает программа.
В случае с Java эти данные хранятся в памяти в виде объектов — экземпляров того класса, который связывается с таблицей.

                              Ячейка → значение

  При создании объекта из строки базы данных значения из этой строки записываются в соответствующие по имени и типу поля объекта.

                          Результат → список объектов

  Запрошенные у БД данные всегда возвращаются в виде таблиц — как они хранятся внутри самой базы.
Такой результат обычно преобразовывают в список объектов, который содержит и схему, и реальные данные.

--------------------------------------------------------------------------------------------------------------------------------------

  Вот, например, как может выглядеть связь таблиц cat_post и cat_user в базе данных и связь соответствующих этим таблицам классов Post и User в Java.

                            Связь в базе данных.

  select u.*, p.* from cat_user u left join cat_post p on p.author_id=u.id


                          Связь в Java (вариант 1).

  class User {
     private List<Post> posts;
  }


                          Связь в Java (вариант 2).

  class Post {
     private User user;
  }


  Такая ситуация, в которой структура БД не может быть отражена в виде классов Java однозначно,
называется ORM gap (от англ. gap — «промежуток», «разрыв»).

--------------------------------------------------------------------------------------------------------------------------------------
