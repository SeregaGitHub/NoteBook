import org.mockito.MockedStatic;

class SomeClassWithStaticMethod {

    @Test
    void whenDoSomeStaticMethodThenThrowNotFoundException() {

        String responseMessage = "some_response";

        // Используем try-with-resources для автоматического закрытия мока после теста
        try (MockedStatic<SomeClassWithStaticMethod> mockedStatic = mockStatic(SomeClassWithStaticMethod.class)) {

            // Задаём поведение: при вызове some_static_method с любым аргументом бросаем исключение
            mockedStatic.when(() -> SomeClassWithStaticMethod.some_static_method(some_arg))
                    .thenThrow(new NotFoundException(responseMessage));
        }

        // Вызываем метод и проверяем, что исключение было выброшено
        NotFoundException exception = assertThrows(
                NotFoundException.class,
                () -> SomeClassWithStaticMethod.some_static_method(some_arg)
        );

        // Сравниваем сообщения исключения
        assertEquals(responseMessage, exception.getMessage());
    }
}